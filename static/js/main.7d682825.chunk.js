(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),r=c.n(n),s=c(2),i=c.n(s),o=(c(19),c(20),c(21),c(7)),u=c(4),d=(c(22),function(e){var t=e.city,c=e.country,n=e.selected,r=e.change;return Object(a.jsx)("button",{type:"button",onClick:function(){return r(t,c)},disabled:n.city===t,className:"btn".concat(n.city===t?" selected":""),children:t})}),l=function(e){var t=e.selected,c=e.change;return Object(a.jsxs)("div",{className:"menu",children:[Object(a.jsx)(d,{selected:t,change:c,city:"Ottawa",country:"CA"}),Object(a.jsx)(d,{selected:t,change:c,city:"Moscow",country:"RU"}),Object(a.jsx)(d,{selected:t,change:c,city:"Tokyo",country:"JP"})]})};l.defaultProps={selected:{},change:function(){}};var j=l,p=c(3),h=c.n(p),b=c(5),m=(c(24),c(8)),O=c.n(m),f=c(9),x=c.n(f),y=function(e){var t=e.type,c=e.data,n=0!==Object.keys(c).length;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"item ".concat(t),children:[Object(a.jsx)("div",{className:"day",children:n?c.day:Object(a.jsx)(x.a,{width:"100%",height:"100%"})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("div",{className:"icon-container",children:Object(a.jsx)("div",{className:"img",children:n?Object(a.jsx)("img",{src:n?c.icon_path:null,alt:"Weather Icon"}):Object(a.jsx)(x.a,{circle:!0,height:"lg"===t?120:50,width:"lg"===t?120:50})})}),Object(a.jsxs)("div",{className:"temp-container".concat(n?"":" loading"),children:[Object(a.jsxs)("div",{className:"temp",children:[n?c.temp:Object(a.jsx)(x.a,{width:"100%",height:"100%"}),n?Object(a.jsx)("span",{children:"\xb0"}):null]}),c&&c.temp_text&&"lg"===t?Object(a.jsx)("div",{className:"temp-text",children:c.temp_text}):null]})]})]})})};y.defaultProps={type:"",data:{}};var v=y,g=function(){var e=Object(b.a)(h.a.mark((function e(t){var c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.weatherbit.io/v2.0/forecast/daily","b6494ce54de54be6a89271638f3f5cd7",c="".concat("https://api.weatherbit.io/v2.0/forecast/daily","?city=").concat(t.city,"&country=").concat(t.country,"&days=5&units=M&key=").concat("b6494ce54de54be6a89271638f3f5cd7"),e.prev=3,e.next=6,fetch(c);case 6:if(200!==(a=e.sent).status){e.next=12;break}return e.next=10,a.json();case 10:return e.t0=e.sent,e.abrupt("return",{success:!0,data:e.t0});case 12:return e.abrupt("return",{success:!1,error:a.statusText});case 15:return e.prev=15,e.t1=e.catch(3),e.abrupt("return",{success:!1,error:e.t1.message});case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.location,c=r.a.useState([]),n=Object(o.a)(c,2),s=n[0],i=n[1];return r.a.useEffect((function(){var e=setTimeout((function(){}),2e3),c=function(){var c=Object(b.a)(h.a.mark((function c(){var a;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g(t);case 2:a=c.sent,clearTimeout(e),i(a.success?a.data.data.map((function(e){return{day:O()().isSame(O()(e.datetime),"day")?"Today":O()(e.datetime).format("ddd"),icon_path:"https://www.weatherbit.io/static/img/icons/".concat(e.weather.icon,".png"),temp:Math.round(e.high_temp),temp_text:e.weather.description}})):[]),a.success||u.b.error("Error! ".concat(a.error),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return i([]),setTimeout((function(){c()}),1e3),function(){return clearTimeout(e)}}),[t]),Object(a.jsxs)("div",{className:"monitor",children:[Object(a.jsx)(u.a,{}),Object(a.jsx)("div",{className:"header",children:Object(a.jsx)(v,{type:"lg",data:s[0]})}),Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)(v,{type:"sm",data:s[1]}),Object(a.jsx)(v,{type:"sm",data:s[2]}),Object(a.jsx)(v,{type:"sm",data:s[3]}),Object(a.jsx)(v,{type:"sm",data:s[4]})]})]})};w.defaultProps={location:{}};var N=w,k="location";function C(e){localStorage.setItem(k,JSON.stringify(e))}var S=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem(k);return e?JSON.parse(e):(Object(u.b)("\ud83c\udf1e J's Weather App \ud83c\udf1e",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),C({city:"Ottawa",country:"CA"}),{city:"Ottawa",country:"CA"})}()),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(a.jsxs)("div",{className:"weather-app",children:[Object(a.jsx)(u.a,{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(j,{selected:c,change:function(e,t){var c={city:e,country:t};r(c),C(c)}}),Object(a.jsx)(N,{location:c})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7d682825.chunk.js.map