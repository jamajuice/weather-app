(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(t,e,c){},20:function(t,e,c){},21:function(t,e,c){},22:function(t,e,c){},30:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c(0),r=c.n(n),s=c(2),i=c.n(s),o=(c(19),c(20),c(21),c(7)),u=c(4),d=(c(22),function(t){var e=t.city,c=t.country,n=t.selected,r=t.change;return Object(a.jsx)("button",{type:"button",onClick:function(){return r(e,c)},disabled:n.city===e,className:"btn".concat(n.city===e?" selected":""),children:e})}),l=function(t){var e=t.selected,c=t.change;return Object(a.jsxs)("div",{className:"menu",children:[Object(a.jsx)(d,{selected:e,change:c,city:"Ottawa",country:"CA"}),Object(a.jsx)(d,{selected:e,change:c,city:"Moscow",country:"RU"}),Object(a.jsx)(d,{selected:e,change:c,city:"Tokyo",country:"JP"})]})};l.defaultProps={selected:{},change:function(){}};var j=l,p=c(3),h=c.n(p),b=c(5),m=(c(24),c(8)),O=c.n(m),f=c(9),x=c.n(f),y=function(t){var e=t.type,c=t.data,n=0!==Object.keys(c).length;return Object(a.jsxs)("div",{className:"item ".concat(e),children:[Object(a.jsx)("div",{className:"day",children:n?c.day:Object(a.jsx)(x.a,{width:"100%",height:"100%"})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("div",{className:"icon-container",children:Object(a.jsx)("div",{className:"img",children:n?Object(a.jsx)("img",{src:n?c.icon_path:null,alt:"Weather Icon"}):Object(a.jsx)(x.a,{circle:!0,height:"lg"===e?120:50,width:"lg"===e?120:50})})}),Object(a.jsxs)("div",{className:"temp-container".concat(n?"":" loading"),children:[Object(a.jsxs)("div",{className:"temp",children:[n?c.temp:Object(a.jsx)(x.a,{width:"100%",height:"100%"}),n?Object(a.jsx)("span",{children:"\xb0"}):null]}),c&&c.temp_text&&"lg"===e?Object(a.jsx)("div",{className:"temp-text",children:c.temp_text}):null]})]})]})};y.defaultProps={type:"",data:{}};var v=y,g=function(){var t=Object(b.a)(h.a.mark((function t(e){var c,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.weatherbit.io/v2.0/forecast/daily","b6494ce54de54be6a89271638f3f5cd7",c="".concat("https://api.weatherbit.io/v2.0/forecast/daily","?city=").concat(e.city,"&country=").concat(e.country,"&days=5&units=M&key=").concat("b6494ce54de54be6a89271638f3f5cd7"),t.prev=3,t.next=6,fetch(c);case 6:if(200!==(a=t.sent).status){t.next=12;break}return t.next=10,a.json();case 10:return t.t0=t.sent,t.abrupt("return",{success:!0,data:t.t0});case 12:return t.abrupt("return",{success:!1,error:a.statusText});case 15:return t.prev=15,t.t1=t.catch(3),t.abrupt("return",{success:!1,error:t.t1.message});case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),w=function(t){var e=t.location,c=r.a.useState([]),n=Object(o.a)(c,2),s=n[0],i=n[1];return r.a.useEffect((function(){var t=setTimeout((function(){}),2e3),c=function(){var c=Object(b.a)(h.a.mark((function c(){var a;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g(e);case 2:a=c.sent,clearTimeout(t),i(a.success?a.data.data.map((function(t){return{day:O()().isSame(O()(t.datetime),"day")?"Today":O()(t.datetime).format("ddd"),icon_path:"https://www.weatherbit.io/static/img/icons/".concat(t.weather.icon,".png"),temp:Math.round(t.high_temp),temp_text:t.weather.description}})):[]),a.success||u.b.error("Error! ".concat(a.error),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return i([]),setTimeout((function(){c()}),1e3),function(){return clearTimeout(t)}}),[e]),Object(a.jsxs)("div",{className:"monitor",children:[Object(a.jsx)(u.a,{}),Object(a.jsx)("div",{className:"header",children:Object(a.jsx)(v,{type:"lg",data:s[0]})}),Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)(v,{type:"sm",data:s[1]}),Object(a.jsx)(v,{type:"sm",data:s[2]}),Object(a.jsx)(v,{type:"sm",data:s[3]}),Object(a.jsx)(v,{type:"sm",data:s[4]})]})]})};w.defaultProps={location:{}};var N=w,k="location";function C(t){localStorage.setItem(k,JSON.stringify(t))}var S=function(){var t=Object(n.useState)(function(){var t=localStorage.getItem(k);return t?JSON.parse(t):(Object(u.b)("\ud83c\udf1e J's Weather App \ud83c\udf1e",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),C({city:"Ottawa",country:"CA"}),{city:"Ottawa",country:"CA"})}()),e=Object(o.a)(t,2),c=e[0],r=e[1];return Object(a.jsxs)("div",{className:"weather-app",children:[Object(a.jsx)(u.a,{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(j,{selected:c,change:function(t,e){var c={city:t,country:e};r(c),C(c)}}),Object(a.jsx)(N,{location:c})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.292a5f63.chunk.js.map